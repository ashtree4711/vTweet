{% extends "bootstrap/base.html" %}

{% block content %}
<!-- Navigation on top of the website -->
<nav class="navbar navbar-expand-lg navbar-light bg-light">
	<div class="container">
		<div class="navbar-header">
			<!-- place for our brand logo, clicking the logo will always bring you back to index page -->
			<a class="navbar-brand" href="/">viTweet</a>

			<div class="container">
				<ul class="nav navbar-nav navbar-right">
					<li class="active"><a href="/">Home</a></li>
					<li><a href="#about">About</a></li>
					<li><a href="#contact">Contact</a></li>
				</ul>

				<!-- basic small search -->
				<form class="navbar-form navbar-right" method="POST" action="/conversation">
					<div class="input-group">
						<input type="text" class="form-control" id="smallSearch" placeholder="Search" name="tweetID">
						<div class="input-group-btn">
							<button class="btn btn-default" type="submit">
							<i class="glyphicon glyphicon-search"></i>
							</button>
						</div>
					</div>
				</form>
			</div>
		</div>
	</div>
</nav>


<div class="container">
	<h1>Linear Visualization of Tweet {{response['main']['tweet_id']}}:</h1>

	<div class="media">
		<!--<div class="media-left">
			<img src="img_avatar1.png" class="media-object" style="width:45px">
		</div>-->
		<div class="media-left">
			<!-- button with number of replies (to do: number of replies) -->
			<button data-toggle="collapse" data-target="#reply">Replies<span class="badge">X</span></button>
		</div>
		<div class="media-body">
			<div class="panel-group">
				<div class="panel panel-primary">
					<!-- main tweet -->
					<div class="panel-heading">{{response['main']['user']['screen_name']}}</div>
					<div class="panel-body">{{response['main']['tweet_content']}}</div>
				</div>

				<!-- Nested media object -->
				{% for items in response['replies'] %}
				<div class="media" id="reply" style="margin-bottom: 10px">
					<!--<div class="media-left">
					<img src="img_avatar2.png" class="media-object" style="width:45px">
					</div>-->
					<div class="media-left">
						<button data-toggle="collapse">Replies</button>
					</div>
					<div class="media-body">
						<div class="panel panel-default">
							<div class="panel-heading">{{ items['user']['screen_name'] }}</div>
							<div class="panel-body">{{ items['tweet_content'] }}</div>
						</div>
					</div>
				</div>
				{% endfor %}
			</div>
		</div>

	</div>
</div>
{% endblock %}